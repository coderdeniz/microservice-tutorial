

Tekrar

-> Mesaj ile Event arasındaki farklar
  -> mesaj: kuyruğa giden mesajda işlenmesi için gerekli datayı taşır, mesajo gönderen mesajın nasıl işleneceğini bilir.
  -> event: event'ler bir notification sistemi sağlar, event'i fırlatan onun nasıl ele alınacağını bilmez.

  -> event'te publisher broker'a gönderir ama dönüşüyle ya da ne yaptığıyla ilgilenmez.
  -> mesaj'da subscriber'in ne yapacağını bilir ve datanın dönüşünü bekler.

  -> event'ler geçmiş ile ilgili ifade edilir, ör: UserCreatedEvent, OrderCreatedEvent gibi
  -> message'lar ise örnek: WordToPdf


  -> event'ler mesaj'lara göre daha düşük boyutludur.


-> Microservice'lerde db'de data nasıl tutulmalı? 

  -> Her mikroservis db'sinde görevi için tutulacak datalarda başka microservisin db'sine bağımlı olmamalı (foreign key durumu). Örnek: OrderId, CourseName, Course price gibi
  -> Bir mikroservis başka mikroservisin db'sine doğrudan erişememelidir. Api'ler üzerinden haberleşebilmeli.


-> Microservis'ler arasında distributed transaction'i nasıl yönebiliriz?

  -> transaction, db'ye yapılan crud işlemlerinden her biridir.
  -> patterni eventual consistency(nihai tutarlılık) uygulaya yönetebiliriz. Değişlik olduğunda db'lerde gerekli işlemler yapılırken süre önemli değilse kullanılabilir.


 Catalog API 
 
 -> İçerisinde category ve course ve course'ların özelliklerini barındıran feature olacak. 
 -> Bir kategorinin birden fazla course olabilir (bir e çok ilişki)
 -> Course ile feature arasında bir e bir ilişki var.
 -> Paket: MongoDb.Driver
 -> id alanlarına: [BsonRepresentation(BsonType.ObjectId)] attribute verilmektedir.
 -> [BsonIgnore]: MongoDb'de gözardı et bunu kaydetme
 -> AutoMapper ile dto nesneleri ile entity nesneleri arası dönüştürme gerçekleştiriyoruz.
 -> Paket: AutoMapper.Extensions.Microsoft.DependencyInjection
 -> appsettings.json'da db için connectionString tanımla
 -> class'ı appsettings'deki değer ile doldur. (önce getsection ile çek configure et sonra addSingleton ile sınıfı oluştur IOptions'dan value'i çek)
 -> repository'ler yazılır.
 -> ControllerBase için ItemGroup Framework Reference eklenmelidir.
 -> Attribute'da (HttpGet) süslü ile parametre verilirse url'de ? yerine / olur.

 bölüm 2 bitti



